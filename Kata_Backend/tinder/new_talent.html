<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar Nuevo Talento</title>
</head>
<body>
    
<h1>Agregar Nuevo Talento</h1>

<!-- Formulario para ingresar información del talento -->
<form id="formularioTalento">
    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" name="nombre" required><br>

    <label for="ciudad">Ciudad:</label>
    <input type="text" id="ciudad" name="ciudad" required><br>

    <label for="pais">País:</label>
    <input type="text" id="pais" name="pais" required><br>

    <label for="correo">Correo:</label>
    <input type="email" id="correo" name="correo" required><br>

    <label for="telefono">Teléfono:</label>
    <input type="tel" id="telefono" name="telefono" required><br>

    <button type="submit">Agregar Talento</button>
</form>

<div id="mensaje"></div>
<ul> <a href="index.html">Inicio </a></ul>
<script>
    // Función para manejar el envío del formulario
    async function agregarTalento(event) {
        event.preventDefault(); // Evita que el formulario se envíe de forma predeterminada

        // Obtener los valores del formulario
        const nombre = document.getElementById('nombre').value;
        const ciudad = document.getElementById('ciudad').value;
        const pais = document.getElementById('pais').value;
        const correo = document.getElementById('correo').value;
        const telefono = document.getElementById('telefono').value;

        // Enviar los datos al servidor para agregar el talento
        try {
            //const response = await fetch('/tinder/crear',
            const response = await fetch('http://localhost:5500/tinder/crear',
            { 
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                  
                },
                body: JSON.stringify({
                    nombre,
                    ciudad,
                    pais,
                    correo,
                    telefono,
                }),
            });

            if (response.status === 201) {
                document.getElementById('mensaje').textContent = 'Talento agregado correctamente.';
            } else {
                document.getElementById('mensaje').textContent = 'Error al agregar el talento.';
            }
        } catch (error) {
            console.error('Error al enviar el formulario:', error);
        }
    }

    // Agregar un evento submit al formulario
    const formularioTalento = document.getElementById('formularioTalento');
    formularioTalento.addEventListener('submit', agregarTalento);
</script>


</body>
</html>